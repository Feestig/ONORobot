{% extends "app_base.html" %}
{% block app_head %}

	<!-- <script src="/site_media/static/js/....js"></script> -->

{% endblock %}
{% block app_toolbar %}
	<p style="color: white">This is the toolbar, you can add/remove options.<br/>To remove the toolbar completely, just remove the blocks: "block app_toolbar" and "endblock".</p>
	<!--
{% include "toolbar/_file_operations.html" %}
{% include "toolbar/_script_operations.html" %}
{% include "toolbar/_lock_unlock.html" %}
-->
{% endblock %}

<!-- These sidebars can be removed by removing the block tags -->
{% block sidebar_left %}{% endblock %}
{% block sidebar_right %}{% endblock %}

{% block app_content %}
	<!--<fieldset>
		<legend>
			<span class="fa fa-commenting"></span>
			{{ _('Popup demo') }}</legend>
		<div class="row">
			<div class="content">
				<span class="" data-bind="text: popupTextInput"></span>
			</div>
		</div>
		<div class="row">
			<div class="content">
				<a href="#" class="button" data-bind="click: showPopup">
					<span class="fa fa-cog" style="font-size: 1.5rem"></span>
					{{ _('Change text popup') }}
				</a>
			</div>
		</div>
	</fieldset>-->

	<div class="left-column" data-bind="visible: $root.fileIsLocked()">
		<div id="fixedavatars">
			<div class="row small-up-5" data-bind="foreach: emotions">
				<div class="column column-block">
					<div class="voiceline locked">
						<div class="avatar" data-bind="click: $root.changeFixedEmotion, css: { 'selected': name == $root.fixedVoiceLine.emotion().name }">
							<div data-bind="avatar: image"></div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div id="fixedvoiceline" data-bind="sortable: { data: fixedVoiceLine, options: {handle: '.gripper', axis: 'y', opacity: 0.75} }">
			<div class="voiceline locked">
				<form>
					<div class="leftcontrols">
						<div class="switch round tts-switch">
							<input class="switch-input" type="checkbox" data-bind="outputswitch: output, attr: {id: switchID} ">
							<label class="switch-paddle" data-bind="attr: {for: switchID}"></label>
							<span class="switch-tts fa fa-comment"></span>
							<span class="switch-wav fa fa-music"></span>
						</div>
						<select data-bind="visible: output() != 'tts', options: $root.sounds, value: wav, click: modified">
							<input type="text" name="tts" placeholder="{{ _('Enter text to be spoken...') }}" data-bind="value: tts, visible: output() == 'tts', click: modified()" autofocus></input>
						</div>

						<div class="playbutton" data-bind="css: { active: isPlaying }">
							<div class="bg"></div>
							<a href="#" class="button" data-bind="click: pressPlay">
								<span class="fa" data-bind="css: { 'fa-play': !isPlaying(), 'fa-stop': isPlaying() }"></span>
							</a>
						</div>
					</form>
				</div>
			</div>
		</div>
		<div data-bind="css: { 'right-column': $root.fileIsLocked() }">
			<div id="voicelines" data-bind="sortable: { data: voiceLines, options: {handle: '.gripper', axis: 'y', opacity: 0.75} }">
				<div class="voiceline" data-bind="css: { locked: $root.fileIsLocked(), unlocked: !$root.fileIsLocked()}">
					<div class="gripper"></div>
					<div class="avatar">
						<div data-bind="avatar: avatar, click: pickEmotion"></div>
					</div>
					<div class="content">
						<span class="bubble" data-bind="html: contentPreview"></span>
					</div>
					<form>
						<select data-bind="visible: output() != 'tts', options: $root.sounds, value: wav, click: modified">
							<input type="text" name="tts" placeholder="{{ _('Enter text to be spoken...') }}" data-bind="value: tts, visible: output() == 'tts', click: modified()"></input>
							<div class="leftcontrols">
								<div class="switch round tts-switch">
									<input class="switch-input" type="checkbox" data-bind="outputswitch: output, attr: {id: switchID} ">
									<label class="switch-paddle" data-bind="attr: {for: switchID}"></label>
									<span class="switch-tts fa fa-comment"></span>
									<span class="switch-wav fa fa-music"></span>
								</div>
							</div>
							<div class="rightcontrols">
								<a href="#" class="button round alert" data-bind="click: $root.removeLine">
									<span class="fa fa-trash"></span>
								</a>
								<a href="#" class="button round secondary" data-bind="click: pressPlay">
									<span class="fa" data-bind="css: {'fa-play': !isPlaying(), 'fa-stop': isPlaying()}" style="margin-right: 0.5rem;"></span>
									{{ _('test') }}</a>
							</div>
						</form>
						<div class="playbutton" data-bind="css: {active: isPlaying, used: hasPlayed}">
							<div class="bg"></div>
							<a href="#" class="button" data-bind="click: pressPlay">
								<span class="fa fa-fw" data-bind="css: {'fa-play': !isPlaying(), 'fa-stop': isPlaying()}"></span>
							</a>
						</div>
					</div>
				</div>
				<div class="rightcontrols" data-bind="visible: !$root.fileIsLocked()">
					<a href="#" id="btnAdd" class="button round info" data-bind="click: $root.addLine">
						<span class="fa fa-plus"></span>
						<span class="text">
							{{ _('Add Line') }}</span>
					</a>
				</div>
			</div>
	{% if not online %}
		<!-- Content in this section is not displayed online, only on the robot. For example: it is a perfect place to put controls that access hardware stuff, which is not available online. -->
	{% endif %}

{% endblock %}
{% block app_scripts %}

	<script>
		// var action_data = {{ actions|tojson|safe }};

		// var data = {{ data|tojson|safe }};
	</script>

	<!-- <script src="/site_media/static/js/....js"></script> -->

{% endblock %}
{% block app_modals %}

<div id="popup_window" class="reveal" data-reveal data-animation-in="fade-in" data-animation-out="fade-out">
	<div class="titlebar">
		<button class="close-button" data-close aria-label="Close" type="button"><span class="fa fa-close"></span></button>
		<span class="fa fa-cogs"></span> Popup window!
	</div>
	<div class="content">
		<p>This is a popup window.</p>
		<form>
			<div class="row collapse">
				<div class="small-9 columns">
					<input type="text" name="text" class="error" style="width: 100%;" data-bind="value: popupTextInput">
					<small class="error hide"></small>
				</div>
				<div class="small-3 columns">
					<a href="#" class="button" style="width: 100%;" data-bind="click: popupButtonHandler()"><span class="fa fa-save"></span> Save</a>
				</div>
			</div>
		</form>
	</div>
</div>

{% endblock %}
